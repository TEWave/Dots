<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form REYT with Dots</title>
    
    <!-- Link to p5.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
    
    <style>
        body {
            background-color: white;
            margin: 0;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
    </style>
</head>
<body>
    <script>
        let dots = [];
        const totalMinutes = 510;  // 8:00 AM to 4:30 PM is 510 minutes
        const startHour = 8;
        const endHour = 16;  // 4:30 PM
        const endMinute = 30;
        const letterCoordinates = {
            R: [
                {x: 0, y: 0}, {x: 0, y: 1}, {x: 0, y: 2}, {x: 0, y: 3}, {x: 1, y: 3},
                {x: 1, y: 2}, {x: 2, y: 1}, {x: 2, y: 0}, {x: 3, y: 0}, {x: 3, y: 1}
            ],
            E: [
                {x: 0, y: 0}, {x: 0, y: 1}, {x: 0, y: 2}, {x: 0, y: 3}, {x: 1, y: 3},
                {x: 2, y: 3}, {x: 2, y: 2}, {x: 2, y: 1}, {x: 2, y: 0}, {x: 3, y: 0}
            ],
            Y: [
                {x: 0, y: 0}, {x: 1, y: 0}, {x: 2, y: 1}, {x: 1, y: 2}, {x: 0, y: 3}
            ],
            T: [
                {x: 0, y: 0}, {x: 1, y: 0}, {x: 2, y: 0}, {x: 1, y: 1}, {x: 1, y: 2}
            ]
        };

        let allCoordinates = [];

        function setup() {
            createCanvas(windowWidth, windowHeight);
            allCoordinates = generateCoordinates();
            frameRate(60);  // Make sure the drawing updates 60 times per second
        }

        function draw() {
            background(255);  // Set background to white

            let currentMinute = getElapsedMinutes();
            
            // If a minute has passed, add a new dot
            if (currentMinute <= totalMinutes) {
                addDot(currentMinute);
            }

            // Display all dots
            for (let i = 0; i < dots.length; i++) {
                dots[i].display();
            }
        }

        // Calculate how many minutes have passed since 8:00 AM
        function getElapsedMinutes() {
            let now = new Date();
            let startOfDay = new Date(now);
            startOfDay.setHours(startHour, 0, 0, 0);  // Set time to 8:00 AM today

            let elapsedMillis = now - startOfDay;  // Elapsed time in milliseconds
            return Math.floor(elapsedMillis / 60000);  // Convert to minutes
        }

        // Generate the coordinates to form the word "REYT"
        function generateCoordinates() {
            let coords = [];
            let gridSize = 30;  // Spacing between dots

            // Adjust the x and y coordinates to place the letters on the screen
            let xOffset = 150;
            let yOffset = 100;

            // Add each letter's coordinates to the final list
            for (let letter in letterCoordinates) {
                let letterCoords = letterCoordinates[letter];
                for (let i = 0; i < letterCoords.length; i++) {
                    let x = xOffset + letterCoords[i].x * gridSize;
                    let y = yOffset + letterCoords[i].y * gridSize;
                    coords.push({x: x, y: y});
                }

                // Increase xOffset to space out letters
                xOffset += 150;
            }

            return coords;
        }

        // Add a new dot according to the current minute
        function addDot(currentMinute) {
            if (dots.length < currentMinute) {
                let newDot = new Dot(allCoordinates[dots.length].x, allCoordinates[dots.length].y);
                dots.push(newDot);
            }
        }

        // Dot class to create and display dots
        class Dot {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = 10;  // Make the dots smaller
            }

            display() {
                noStroke();
                fill(0);  // Black color for the dots
                ellipse(this.x, this.y, this.size, this.size);
            }
        }
    </script>
</body>
</html>
